Tuesday 2 January 2018

I've written a basic parser using MegaParsec.  Each piece of it directly outputs a chunk of Latex as a string.  The problem is how to deal with internal references and citations.  Taking them separately:

1) The problem with internal references:

I really want to be able to pass my Latex code to pdflatex via stdio, have pdflatex do one fast run, and all is done.  This means that everything that Latex has to do several runs for needs to be handled previously by Trux.  I don't know how to do this with clickable links.

***

I think I'm making things too hard here.  Latexmk can handle all the runs.  I have occasionally had it not work and had to delete all the .aux files and things and start again, but I can deal with that later as it arises.  After all, the point of Trux is not to redo Latex from scratch, but to put a pretty layer on the top that makes it nice to use.  I should reuse other peoples' stuff wherever possible.

Friday 5 January 2018

The next thing on my list is making nice indentation.  I don't want it so that whitespace is ignored most of the time, like in C++ or Emacs Lisp, where you can put in 10 newlines and the compiler doesn't care.  I would like it to enforce a nice indentation scheme.  I feel like I need to start again actually.  It feels like a mess.

Tuesday 20 March 2018

I'm struggling to get the tables to work properly.  What I want is for the column widths to set themselves automatically.  The best I have found so far is tabularx, which sets them all the same width, and wraps the text if it is too long.  That is not too bad, but when it is a small table you just want it to fit the column size to the contents.  However, I think that it will do for now.
